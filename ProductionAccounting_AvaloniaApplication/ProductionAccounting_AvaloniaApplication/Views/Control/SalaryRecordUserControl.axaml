<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:ProductionAccounting_AvaloniaApplication.ViewModels.Control"
             x:DataType="vm:SalaryRecordUserControlViewModel"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="ProductionAccounting_AvaloniaApplication.Views.Control.SalaryRecordUserControl">
  
    <Border x:Name="MainBorder"
            Background="#FFFFFF"
            BorderBrush="#E0E0E0"
            BorderThickness="1"
            CornerRadius="6"
            Margin="0,0,0,10"
            Padding="15">
        
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <StackPanel Grid.Column="0">
                <DockPanel Margin="0,0,0,8">
                    <TextBlock x:Name="EmployeeNameText" 
                               Text="{Binding EmployeeName}"
                               FontSize="16" 
                               FontWeight="SemiBold"
                               Foreground="#333333"
                               DockPanel.Dock="Left"/>
                    
                    <Border x:Name="SummaryBadge"
                            CornerRadius="4"
                            Padding="6,2"
                            DockPanel.Dock="Right"
                            Margin="10,0,0,0"
                            Background="#E8F5E9"
                            IsVisible="{Binding ShowSummary}">
                        <TextBlock Text="Итого"
                                   FontSize="12"
                                   Foreground="#2E7D32"
                                   FontWeight="Medium"/>
                    </Border>
                    
                    <Border x:Name="TotalBadge"
                            CornerRadius="4"
                            Padding="6,2"
                            DockPanel.Dock="Right"
                            Margin="10,0,0,0"
                            Background="#2196F3"
                            IsVisible="{Binding ShowTotal}">
                        <TextBlock Text="ОБЩИЙ ИТОГ"
                                   FontSize="12"
                                   Foreground="White"
                                   FontWeight="Bold"/>
                    </Border>
                </DockPanel>
                
                <StackPanel x:Name="DetailsPanel"
                            IsVisible="{Binding ShowDetails}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0" Margin="0,0,20,0">
                            <TextBlock Text="Операция:" 
                                       FontSize="12" 
                                       Foreground="#666666"/>
                            <TextBlock Text="{Binding OperationName}"
                                       FontSize="14" 
                                       FontWeight="Medium"
                                       Foreground="#666666"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="1" Margin="0,0,20,0">
                            <TextBlock Text="Дата:" 
                                       FontSize="12" 
                                       Foreground="#666666"/>
                            <TextBlock Text="{Binding ProductionDate, StringFormat='dd.MM.yyyy'}"
                                       FontSize="14"
                                       Foreground="#666666"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="2" Margin="0,0,20,0">
                            <TextBlock Text="Кол-во:" 
                                       FontSize="12" 
                                       Foreground="#666666"/>
                            <TextBlock Text="{Binding Quantity, StringFormat='{}{0:N2}'}"
                                       FontSize="14"
                                       Foreground="#666666"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="3" 
                                    IsVisible="{Binding ShowTonnage}">
                            <TextBlock Text="Тоннаж:" 
                                       FontSize="12" 
                                       Foreground="#666666"/>
                            <TextBlock Text="{Binding Tonnage, StringFormat='{}{0:N0} кг'}"
                                       FontSize="14"
                                       Foreground="#666666"/>
                        </StackPanel>
                    </Grid>
                    
                    <Border Background="#F5F5F5"
                            CornerRadius="4"
                            Padding="10"
                            Margin="0,10,0,0">
                        <TextBlock x:Name="FormulaText"
                                   Text="{Binding CalculationFormula}"
                                   FontSize="12"
                                   Foreground="#424242"
                                   TextWrapping="Wrap"/>
                    </Border>
                </StackPanel>
                
                <DockPanel Margin="0,15,0,0">
                    <TextBlock Text="Сумма:" 
                               FontSize="14" 
                               Foreground="#666666"
                               DockPanel.Dock="Left"
                               VerticalAlignment="Center"/>
                    
                    <TextBlock x:Name="AmountText"
                               Text="{Binding Amount, StringFormat='{}{0:N2} ₽'}" 
                               FontSize="20" 
                               FontWeight="Bold"
                               Foreground="#1976D2"
                               DockPanel.Dock="Right"
                               HorizontalAlignment="Right"/>
                </DockPanel>
            </StackPanel>
        </Grid>
    </Border>

</UserControl>
