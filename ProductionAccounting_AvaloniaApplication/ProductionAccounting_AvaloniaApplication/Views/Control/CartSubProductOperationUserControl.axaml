<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:ProductionAccounting_AvaloniaApplication.ViewModels.Control"
			 x:DataType="vm:CartSubProductOperationUserControlViewModel"
             mc:Ignorable="d" d:DesignWidth="450" d:DesignHeight="100"
             x:Class="ProductionAccounting_AvaloniaApplication.Views.Control.CartSubProductOperationUserControl">

	<Border Background="#2A2A2D" 
            CornerRadius="16" 
            Padding="18" 
            Margin="8"
            BorderBrush="#444" 
            BorderThickness="2"
            MinWidth="200">

        <Grid RowDefinitions="Auto,Auto,Auto" 
              Margin="10">

            <Grid Grid.Row="0" ColumnDefinitions="Auto,*">
                <TextBlock Grid.Column="0"
                           Text="→" 
                           FontSize="32" 
                           Foreground="#00D4FF" 
                           VerticalAlignment="Center"
                           Margin="0,0,20,0"/>

                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="{Binding OperationName}" 
                               FontSize="22" 
                               FontWeight="Bold" 
                               Foreground="White"/>
                </StackPanel>
            </Grid>

            <StackPanel Grid.Row="1" 
                        Orientation="Horizontal" 
                        Spacing="20" 
                        Margin="0,15,0,10">
                <StackPanel>
                    <TextBlock Text="План" 
                               Foreground="#888" 
                               FontSize="13"/>
                    <TextBlock Text="{Binding PlannedQuantity}" 
                               FontWeight="SemiBold" 
                               Foreground="#00D4FF" 
                               FontSize="18"/>
                </StackPanel>
                <StackPanel>
                    <TextBlock Text="Сделано" 
                               Foreground="#888" 
                               FontSize="13"/>
                    <TextBlock Text="{Binding CompletedQuantity}" 
                               FontWeight="SemiBold" 
                               Foreground="#28A745"
                               FontSize="18"/>
                </StackPanel>
                <StackPanel>
                    <TextBlock Text="Исполнитель" 
                               Foreground="#888" 
                               FontSize="13"/>
                    <TextBlock Text="{Binding UserName}" 
                               FontWeight="SemiBold" 
                               Foreground="#28A745"
                               FontSize="18"/>
                </StackPanel>
            </StackPanel>

            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0"
                           Text="{Binding StatusText}"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="{Binding StatusColor}"
                           VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1"
                            Orientation="Horizontal"
                            Spacing="10">

                    <Button Content="Удалить"
                            Command="{Binding DeleteCommand}"
                            Background="#DC3545"
                            Foreground="White"
                            FontSize="18"
                            FontWeight="Bold"
                            CornerRadius="12"
                            Padding="20,12"
                            IsVisible="{Binding IsAdministratorOrMaster}"/>

                    <Button Content="Сдать"
                            Command="{Binding OpenSubmitWorkForAnEmployeeCommand}"
                            Background="#007BFF"
                            Foreground="White"
                            FontSize="18"
                            FontWeight="Bold"
                            CornerRadius="12"
                            Padding="20,12"
                            IsVisible="{Binding CanAssignTest}"/>

                    <Button Content="{Binding StatusButtonText}"
                            Command="{Binding AssignCommand}"
                            Background="#FFC107"
                            Foreground="#212529"
                            FontSize="18"
                            FontWeight="Bold"
                            CornerRadius="12"
                            Padding="20,12"
                            IsVisible="{Binding IsAdministratorOrMaster}"/>
                </StackPanel>
            </Grid>
        </Grid>
    </Border>

</UserControl>
