<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:vm="using:ProductionAccounting_AvaloniaApplication.ViewModels.Control"
             x:DataType="vm:TabWorkTypeUserControlViewModel"
             x:Class="ProductionAccounting_AvaloniaApplication.Views.Control.TabWorkTypeUserControl">

    <Grid>
		<Grid Margin="10" 
              RowDefinitions="Auto, Auto, *">

             <Grid Grid.Row="0" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Top" 
                   ColumnDefinitions="Auto, Auto">

                 <TextBox Width="200"
                          Watermark="Поиск"
                          Classes="Search"
                          HorizontalAlignment="Center"
                          Text="{Binding Search}"/>

            <StackPanel Grid.Column="1"
		  				Orientation="Horizontal"
		  				HorizontalAlignment="Center"
		  				Margin="10,0,0,0">

		  		<Button Margin="10,0,0,0"
		  				Width="32"
		  				Height="32"
		  				Command="{Binding DownloadAsyncCommand}"
		  				ToolTip.Tip="������� ������">
		  			<Image Source="/Assets/download-cloud-64.png"/>
		  		</Button>

		  		<Button Margin="10,0,0,0"
                        Width="32"
                        Height="32"
                        Command="{Binding RefreshAsyncCommand}"
                        ToolTip.Tip="�������� ������">
		  			<Image Source="/Assets/return-64.png"/>
		  		</Button>
            </StackPanel>
            </Grid>

             <Grid Grid.Row="2"
                   HorizontalAlignment="Stretch"
                   VerticalAlignment="Stretch"
                   ColumnDefinitions="*, Auto">

                 <Grid Grid.Column="0"
                       Margin="0,10,5,10"
                       HorizontalAlignment="Stretch"
                       VerticalAlignment="Stretch">
                     <Border Background="White"
                             Opacity="0.5"
                             CornerRadius="5"/>
                     <ScrollViewer Margin="10">
                        <ItemsControl ItemsSource="{Binding CartTypeWork}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border CornerRadius="12"
											Background="LightGray"
											BorderBrush="#E1E5E9"
											BorderThickness="1"
											Margin="5">

										<Grid Margin="15"
											  ColumnDefinitions="Auto, *, Auto">

											<Border Grid.Column="0"
													Width="44"
													Height="44"
													CornerRadius="10"
													Background="Gray"
													Margin="0,0,16,0">
												<Image Source="/Assets/product-64.png"
													   Width="22"
													   Height="22"/>
											</Border>

											<StackPanel Grid.Column="1"
														VerticalAlignment="Center"
														Margin="0,0,15,0">
												<TextBlock	Text="{Binding Type}"
															Foreground="#1A1D21"
															FontSize="16"
															FontWeight="SemiBold"
															Margin="0,0,0,4"/>

												<StackPanel Orientation="Horizontal" 
															Spacing="16">

												<StackPanel Orientation="Horizontal" 
																Spacing="4">
														<TextBlock Text="единицы в измерениях:"
																   Foreground="#6B7280"
																   FontSize="11"/>
														<TextBlock Text="{Binding Measurement}"
																   Foreground="#1A1D21"
																   FontSize="11"
																   FontWeight="SemiBold"/>
													</StackPanel>

													<StackPanel Orientation="Horizontal" 
																Spacing="4">
														<TextBlock Text="тариф:"
																   Foreground="#6B7280"
																   FontSize="11"/>
														<TextBlock Text="{Binding Rate}"
																   Foreground="#1A1D21"
																   FontSize="11"
																   FontWeight="SemiBold"/>
													</StackPanel>

													<StackPanel Orientation="Horizontal" 
																Spacing="4">
														<TextBlock Text="Коэф:"
																   Foreground="#6B7280"
																   FontSize="11"/>
														<TextBlock Text="{Binding Coefficient, StringFormat='{}{0:N1}'}"
																   Foreground="#1A1D21"
																   FontSize="11"
																   FontWeight="SemiBold"/>
													</StackPanel>
												</StackPanel>
				
											</StackPanel>

											<StackPanel Grid.Column="2"
														Orientation="Horizontal"
														Spacing="6"
														VerticalAlignment="Center">

												<Button Command="{Binding EditCommand}"
														Width="34"
														Height="34"
														CornerRadius="6"
														Background="#34C759"
														BorderThickness="0">
													<Image Source="/Assets/edit-64.png"/>
												</Button>

												<Button Command="{Binding DeleteCommand}"
														Width="34"
														Height="34"
														CornerRadius="6"
														Background="#FF3B30"
														BorderThickness="0">
													<Image Source="/Assets/remove-64.png"
														   Width="18"
														   Height="18"/>
												</Button>
											</StackPanel>
										</Grid>
									</Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                     </ScrollViewer>
                 </Grid>
             </Grid>
        </Grid>
    </Grid>

</UserControl>
