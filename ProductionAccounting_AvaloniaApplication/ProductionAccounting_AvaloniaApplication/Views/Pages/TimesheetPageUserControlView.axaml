<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:ProductionAccounting_AvaloniaApplication.ViewModels.Pages"
             x:DataType="vm:TimesheetPageUserControlViewModel"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="850"
             x:Class="ProductionAccounting_AvaloniaApplication.Views.Pages.TimesheetPageUserControlView">

    <Grid Margin="20" 
          RowDefinitions="Auto,20,Auto,30,*">
        
        <StackPanel Grid.Row="0" 
                    Orientation="Horizontal" 
                    Spacing="15" 
                    VerticalAlignment="Center">
            <StackPanel Orientation="Horizontal" 
                        Spacing="20" 
                        VerticalAlignment="Center"
                        HorizontalAlignment="Left">
                
                <StackPanel Spacing="8">
                    <TextBlock Text="Начальная дата" 
                               FontWeight="SemiBold" 
                               Foreground="White"/>
                    <CalendarDatePicker Width="180"
                                        SelectedDate="{Binding FilterStartDate, Mode=TwoWay}">
                    </CalendarDatePicker>
                </StackPanel>

                <StackPanel Spacing="8">
                    <TextBlock Text="Конечная дата" 
                               FontWeight="SemiBold" 
                               Foreground="White"/>
                    <CalendarDatePicker Width="180"
                                        SelectedDate="{Binding FilterEndDate, Mode=TwoWay}">
                    </CalendarDatePicker>
                </StackPanel>

                <Button Content="Обновить" 
                        Command="{Binding RefreshTimesheetCommand}" 
                        Height="40" 
                        Width="120"
                        CornerRadius="8"
                        VerticalAlignment="Bottom"
                        VerticalContentAlignment="Center"
                        HorizontalContentAlignment="Center"/>
            </StackPanel>
        </StackPanel>
        
        <Grid Grid.Row="2" 
              ColumnDefinitions="*,20,*">
            
            <Border Grid.Column="0" 
                    Background="White" 
                    CornerRadius="12" 
                    BoxShadow="0 4 20 0 #20000000" 
                    Padding="25">
                <StackPanel Spacing="20">
                    <TextBlock Text="ДОБАВИТЬ ОДНУ ЗАПИСЬ" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="#2c3e50"/>
                    
                    <Grid ColumnDefinitions="*,15,*">
                        <StackPanel Grid.Column="0" 
                                    Spacing="12">
                            <TextBlock Text="Сотрудник *" 
                                       FontWeight="SemiBold" 
                                       Foreground="#555"/>
                            <ComboBox ItemsSource="{Binding ComboBoxUsers}"
                                      SelectedItem="{Binding SelectedSingleUser}"
                                      DisplayMemberBinding="{Binding FullName}"
                                      PlaceholderText="Выберите сотрудника"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="2" 
                                    Spacing="12">
                            <TextBlock Text="Дата *" 
                                       FontWeight="SemiBold" 
                                       Foreground="#555"/>
                            <CalendarDatePicker SelectedDate="{Binding SelectedDate}"/>
                        </StackPanel>
                    </Grid>
                    
                    <Grid ColumnDefinitions="*,15,*">
                        <StackPanel Grid.Column="0" 
                                    Spacing="12">
                            <TextBlock Text="Статус *" 
                                       FontWeight="SemiBold" 
                                       Foreground="#555"/>
                            <ComboBox ItemsSource="{Binding Statuses}" 
                                      SelectedItem="{Binding SelectedSingleStatus}"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="2" 
                                    Spacing="12">
                            <TextBlock Text="Отработано часов" 
                                       FontWeight="SemiBold" 
                                       Foreground="#555"/>
                            <TextBox Text="{Binding SingleHours}" 
                                     Watermark="8.0"/>
                        </StackPanel>
                    </Grid>
                    
                    <StackPanel Spacing="12">
                        <TextBlock Text="Примечание" 
                                   FontWeight="SemiBold" 
                                   Foreground="#555"/>
                        <TextBox Text="{Binding SingleNotes}" 
                                 Watermark="Дополнительная информация..." 
                                 AcceptsReturn="True" 
                                 Height="80"/>
                    </StackPanel>
                    
                    <Button Content="СОХРАНИТЬ ЗАПИСЬ" 
                            Command="{Binding SaveSingleRecordCommand}"
                            HorizontalAlignment="Stretch"
                            Height="50" 
                            FontSize="16" 
                            FontWeight="Bold"
                            CornerRadius="10"
                            Background="Gray"
                            VerticalContentAlignment="Center"
                            HorizontalContentAlignment="Center"/>
                </StackPanel>
            </Border>
            
            <Border Grid.Column="2" 
                    Background="White" 
                    CornerRadius="12" 
                    BoxShadow="0 4 20 0 #20000000" 
                    Padding="25">
                <StackPanel Spacing="20">
                    <TextBlock Text="МАССОВОЕ ДОБАВИТЬ" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="#2c3e50"/>
                    
                    <Grid ColumnDefinitions="*,15,*">

                        <StackPanel Grid.Column="0" 
                                    Spacing="12">
                            <TextBlock Text="Начальная дата *" 
                                       FontWeight="SemiBold" 
                                       Foreground="#555"/>
                            <CalendarDatePicker SelectedDate="{Binding MassEditStartDate}"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="2" 
                                    Spacing="12">
                            <TextBlock Text="Конечная дата *" 
                                       FontWeight="SemiBold" 
                                       Foreground="#555"/>
                            <CalendarDatePicker SelectedDate="{Binding MassEditEndDate}"/>
                        </StackPanel>
                    </Grid>
                    
                    <StackPanel Spacing="12">
                        <TextBlock Text="Статус для всех дней *" 
                                   FontWeight="SemiBold" 
                                   Foreground="#555"/>
                        <ComboBox ItemsSource="{Binding Statuses}" 
                                  SelectedItem="{Binding SelectedMassStatus}"/>
                    </StackPanel>
                    
                    <StackPanel Spacing="12">
                        <TextBlock Text="Часов в день"
                                   FontWeight="SemiBold"
                                   Foreground="#555"/>
                        <TextBox Text="{Binding MassEditHours}"
                                 Watermark="8.0"/>
                    </StackPanel>
                    
                    <CheckBox Content="Исключить выходные дни (суббота, воскресенье)"
                              IsChecked="{Binding ExcludeWeekends}" 
                              FontWeight="SemiBold"
                              Foreground="Black"/>
                    
                    <Button Content="ПРИМЕНИТЬ МАССОВОЕ ДОБАВЛЕНИЕ" 
                            Command="{Binding ApplyMassEditCommand}"
                            HorizontalAlignment="Stretch"
                            Height="50" 
                            FontSize="16" 
                            FontWeight="Bold"
                            CornerRadius="10"
                            Background="Gray"
                            VerticalContentAlignment="Center"
                            HorizontalContentAlignment="Center"/>
                </StackPanel>
            </Border>
        </Grid>

        <Border Grid.Row="4"
                Background="White"
                CornerRadius="12"
                BoxShadow="0 4 20 0 #20000000"
                Padding="20"
                ClipToBounds="True">
            <StackPanel Spacing="15">
                <TextBlock Text="Записи табеля"
                           FontSize="18" 
                           FontWeight="Bold" 
                           Foreground="#2c3e50"/>
                <ScrollViewer VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled"
                              MaxHeight="400">
                    <StackPanel Name="CartTimesheet"/>
                </ScrollViewer> 
            </StackPanel>
        </Border>
    </Grid>

</UserControl>