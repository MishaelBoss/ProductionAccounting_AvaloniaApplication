<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:ProductionAccounting_AvaloniaApplication.ViewModels.Pages"
             x:DataType="vm:SettingsPageUserControlViewModel"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="ProductionAccounting_AvaloniaApplication.Views.Pages.SettingsPageUserControlView">

    <UserControl.Styles>
        <StyleInclude Source="/Styles/Resources/SettingsStyles.axaml"/>
    </UserControl.Styles>

    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="20" ColumnDefinitions="1*">
            <Border Grid.Column="0" 
                    Background="{DynamicResource ThemeBackgroundMidBrush}"
                    CornerRadius="8"
                    Padding="25">
                
                <StackPanel Spacing="20">
                    <Border Classes="SettingsSection" Tag="FileSettings">
                        <StackPanel Spacing="15">
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <PathIcon Data="M3,6H21V18H3V6M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M7,8A1,1 0 0,1 8,7A1,1 0 0,1 9,8A1,1 0 0,1 8,9A1,1 0 0,1 7,8M17,8A1,1 0 0,1 18,7A1,1 0 0,1 19,8A1,1 0 0,1 18,9A1,1 0 0,1 17,8Z"
                                             Width="20" Height="20"/>
                                    <TextBlock Text="File Settings" 
                                               FontSize="18" 
                                               FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                            
                            <Border Background="{DynamicResource ThemeBackgroundLightBrush}"
                                    CornerRadius="6"
                                    Padding="15">
                                <StackPanel Spacing="12">
                                    <Grid ColumnDefinitions="*,Auto">
                                        <TextBlock Text="Configuration file location" 
                                                   FontSize="14" 
                                                   Opacity="0.8"/>
                                        <Button Grid.Column="1"
                                                Content="Open File"
                                                Click="OpenFileSetting_Click"
                                                Classes="ModernButton"
                                                MinWidth="100">
                                            <Button.Styles>
                                                <Style Selector="Button">
                                                    <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                    <Setter Property="Padding" Value="15,8"/>
                                                    <Setter Property="CornerRadius" Value="4"/>
                                                </Style>
                                            </Button.Styles>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <Border Classes="SettingsSection" Tag="Logs">
                        <StackPanel Spacing="15">
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <PathIcon Data="M3,15H13V17H3V15M3,19H16V21H3V19M3,11H20V13H3V11M3,5H13V7H3V5M21,5V7H19V5H21M21,11V13H19V11H21M21,17V19H19V17H21Z"
                                             Width="20" Height="20"/>
                                    <TextBlock Text="Logs" 
                                               FontSize="18" 
                                               FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                            
                            <Border Background="{DynamicResource ThemeBackgroundLightBrush}"
                                    CornerRadius="6"
                                    Padding="15">
                                <StackPanel Spacing="12">
                                    <Grid ColumnDefinitions="*,Auto">
                                        <TextBlock Text="Log files directory" 
                                                   FontSize="14" 
                                                   Opacity="0.8"/>
                                        <Button Grid.Column="1"
                                                Content="Open Folder"
                                                Click="OpenFolderLoges_Click"
                                                Classes="ModernButton"
                                                MinWidth="100">
                                            <Button.Styles>
                                                <Style Selector="Button">
                                                    <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                    <Setter Property="Padding" Value="15,8"/>
                                                    <Setter Property="CornerRadius" Value="4"/>
                                                </Style>
                                            </Button.Styles>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <Border Classes="SettingsSection" Tag="Language">
                        <StackPanel Spacing="15">
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <PathIcon Data="M12.87,15.07L10.33,12.56L10.36,12.53C12.1,10.59 13.34,8.36 14.07,6H17V4H10V2H8V4H1V6H12.17C11.5,7.92 10.44,9.75 9,11.35C8.07,10.32 7.3,9.19 6.69,8H4.69C5.42,9.63 6.42,11.17 7.67,12.56L2.58,17.58L4,19L9,14L12.11,17.11L12.87,15.07M18.5,10H16.5L12,22H14L15.12,19H19.87L21,22H23L18.5,10M15.88,17L17.5,12.67L19.12,17H15.88Z"
                                             Width="20" Height="20"/>
                                    <TextBlock Text="Language" 
                                               FontSize="18" 
                                               FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                            
                            <Border Background="{DynamicResource ThemeBackgroundLightBrush}"
                                    CornerRadius="6"
                                    Padding="15">
                                <StackPanel Spacing="15">
                                    <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto" RowSpacing="10">
                                        <TextBlock  Grid.Row="0" 
                                                    Grid.Column="0"
                                                    Text="Application Language"
                                                    FontSize="14" 
                                                    Opacity="0.8"/>
                                        
                                        <ComboBox   Grid.Row="1" 
                                                    Grid.Column="0"
                                                    ItemsSource="{Binding ComboBoxLocalizations}"
                                                    SelectedItem="{Binding SelectedComboBoxLocalization}"
                                                    MinWidth="150"
                                                    HorizontalAlignment="Left">
                                            <ComboBox.Styles>
                                                <Style Selector="ComboBox">
                                                    <Setter Property="BorderThickness" Value="1"/>
                                                    <Setter Property="CornerRadius" Value="4"/>
                                                    <Setter Property="Padding" Value="10,8"/>
                                                </Style>
                                                <Style Selector="ComboBoxItem">
                                                    <Setter Property="Padding" Value="10,8"/>
                                                    <Setter Property="MinHeight" Value="35"/>
                                                </Style>
                                            </ComboBox.Styles>
                                        </ComboBox>
                                        
                                        <TextBlock  Grid.Row="0" 
                                                    Grid.Column="1"
                                                    Text="Language Files"
                                                    FontSize="14" 
                                                    Opacity="0.8"/>
                                        
                                        <Button Grid.Row="1" Grid.Column="1"
                                                Content="Open Language Folder"
                                                Click="OpenFolderLanguage_Click"
                                                Classes="ModernButton">
                                            <Button.Styles>
                                                <Style Selector="Button">
                                                    <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                    <Setter Property="Padding" Value="15,8"/>
                                                    <Setter Property="CornerRadius" Value="4"/>
                                                </Style>
                                            </Button.Styles>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <Border Classes="SettingsSection" Tag="Updates">
                        <StackPanel Spacing="15">
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <PathIcon Data="M21,10.12H14.22L16.96,7.3C14.23,4.6 9.81,4.5 7.08,7.2C4.35,9.91 4.35,14.28 7.08,17C9.81,19.7 14.23,19.7 16.96,17C18.32,15.65 19,14.08 19,12.1H21C21,14.08 20.12,16.65 18.36,18.39C14.85,21.87 9.15,21.87 5.64,18.39C2.14,14.92 2.11,9.28 5.62,5.81C9.13,2.34 14.76,2.34 18.27,5.81L21,3V10.12M12.5,8V12.25L16,14.33L15.28,15.54L11,13V8H12.5Z"
                                             Width="20" Height="20"/>
                                    <TextBlock Text="Updates" 
                                               FontSize="18" 
                                               FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                            
                            <Border Background="{DynamicResource ThemeBackgroundLightBrush}"
                                    CornerRadius="6"
                                    Padding="15">
                                <StackPanel Spacing="12">
                                    <Grid ColumnDefinitions="Auto,1*,Auto" VerticalAlignment="Center">
                                        <PathIcon Grid.Column="0"
                                                  Data="M21,10.12H14.22L16.96,7.3C14.23,4.6 9.81,4.5 7.08,7.2C4.35,9.91 4.35,14.28 7.08,17C9.81,19.7 14.23,19.7 16.96,17C18.32,15.65 19,14.08 19,12.1H21C21,14.08 20.12,16.65 18.36,18.39C14.85,21.87 9.15,21.87 5.64,18.39C2.14,14.92 2.11,9.28 5.62,5.81C9.13,2.34 14.76,2.34 18.27,5.81L21,3V10.12M12.5,8V12.25L16,14.33L15.28,15.54L11,13V8H12.5Z"
                                                  Width="16" Height="16"
                                                  Margin="0,0,10,0"/>
                                        <TextBlock Grid.Column="1"
                                                   Text="Check for application updates"
                                                   VerticalAlignment="Center"
                                                   FontSize="14"/>
                                        <Button Grid.Column="2"
                                                Content="Check Update"
                                                Click="CheckUpdate"
                                                Classes="ModernButton"
                                                MinWidth="120">
                                            <Button.Styles>
                                                <Style Selector="Button">
                                                    <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                                                    <Setter Property="Foreground" Value="White"/>
                                                    <Setter Property="Padding" Value="15,8"/>
                                                    <Setter Property="CornerRadius" Value="4"/>
                                                </Style>
                                            </Button.Styles>
                                        </Button>
                                    </Grid>
                                    <TextBlock Text="Current version: 1.0.0"
                                               FontSize="12"
                                               Opacity="0.6"
                                               Margin="26,5,0,0"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </Border>

                    <Border Classes="SettingsSection" Tag="Database">
                        <StackPanel Spacing="15">
                            <Grid>
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <PathIcon Data="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z"
                                             Width="20" Height="20"/>
                                    <TextBlock Text="Database Connection" 
                                               FontSize="18" 
                                               FontWeight="SemiBold"/>
                                </StackPanel>
                            </Grid>
                            
                            <Border Background="{DynamicResource ThemeBackgroundLightBrush}"
                                    CornerRadius="6"
                                    Padding="15">
                                <Grid ColumnDefinitions="Auto,1*" RowDefinitions="Auto,Auto,Auto,Auto,Auto" 
                                      RowSpacing="12" ColumnSpacing="15">
                                    
                                    <TextBlock Grid.Row="0" Grid.Column="0"
                                               Text="Server IP"
                                               VerticalAlignment="Center"
                                               MinWidth="100"/>
                                    <TextBox Grid.Row="0" Grid.Column="1"
                                             Watermark="192.168.1.100"
                                             Text="{Binding Ip}"
                                             Classes="ModernTextBox"/>
                                    
                                    <TextBlock Grid.Row="1" Grid.Column="0"
                                               Text="Port"
                                               VerticalAlignment="Center"/>
                                    <TextBox Grid.Row="1" Grid.Column="1"
                                             Watermark="5432"
                                             Text="{Binding Port}"
                                             Classes="ModernTextBox"/>
                                    
                                    <TextBlock Grid.Row="2" Grid.Column="0"
                                               Text="Database Name"
                                               VerticalAlignment="Center"/>
                                    <TextBox Grid.Row="2" Grid.Column="1"
                                             Watermark="production_db"
                                             Text="{Binding Name}"
                                             Classes="ModernTextBox"/>
                                    
                                    <TextBlock Grid.Row="3" Grid.Column="0"
                                               Text="Username"
                                               VerticalAlignment="Center"/>
                                    <TextBox Grid.Row="3" Grid.Column="1"
                                             Watermark="admin"
                                             Text="{Binding User}"
                                             Classes="ModernTextBox"/>
                                    
                                    <TextBlock Grid.Row="4" Grid.Column="0"
                                               Text="Password"
                                               VerticalAlignment="Center"/>
                                    <Grid Grid.Row="4" Grid.Column="1">
                                        <TextBox Watermark="��������"
                                                 Text="{Binding Password}"
                                                 Classes="ModernTextBox"
                                                 PasswordChar="�"/>
                                    </Grid>
                                </Grid>
                            </Border>
                            
                            <Grid ColumnDefinitions="*,Auto" Margin="0,10,0,0">
                                <Button Content="Test Connection"
                                        Classes="ModernButtonOutline"
                                        HorizontalAlignment="Left"
                                        Command="{Binding TestConnectCommand}">
                                    <Button.Styles>
                                        <Style Selector="Button">
                                            <Setter Property="BorderBrush" Value="{DynamicResource ThemeAccentBrush}"/>
                                            <Setter Property="BorderThickness" Value="1"/>
                                            <Setter Property="Foreground" Value="{DynamicResource ThemeAccentBrush}"/>
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="Padding" Value="15,8"/>
                                            <Setter Property="CornerRadius" Value="4"/>
                                        </Style>
                                    </Button.Styles>
                                </Button>
                                
                                <Button Grid.Column="1"
                                        Content="Save Connection"
                                        Command="{Binding RestartApplicationCommand}"
                                        Classes="ModernButton"
                                        MinWidth="120">
                                    <Button.Styles>
                                        <Style Selector="Button">
                                            <Setter Property="Background" Value="{DynamicResource ThemeAccentBrush}"/>
                                            <Setter Property="Foreground" Value="White"/>
                                            <Setter Property="Padding" Value="15,8"/>
                                            <Setter Property="CornerRadius" Value="4"/>
                                        </Style>
                                    </Button.Styles>
                                </Button>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>
